import{i as _}from"./backend-94c38ddf.js";import{m as k,u as y,r as l,q as C,f as v,o as n,c as r,g as p,a as e,h as w,t as a,k as u,F as x,b as N}from"./index-ad2ebd01.js";const V={class:"container"},B={"aria-label":"breadcrumb"},L={class:"breadcrumb"},q={class:"breadcrumb-item"},F={class:"breadcrumb-item active","aria-current":"page"},P={class:"row justify-content-center"},R={class:"col-8"},T=["src"],U={class:"col-4"},$={key:0,class:"h5"},j={key:1,class:"h6"},D={key:2,class:"h5"},E=e("hr",null,null,-1),A={__name:"UserProduct",setup(I){const m=k(),h=y(),t=l({}),d=l(""),o=l(!1);async function b(){o.value=!0;const s=await _.get(`api/karabo-api-cake/product/${d.value}`);console.log(s.data),o.value=!1,s.data.success&&(t.value=s.data.product)}C(()=>{d.value=m.params.productId,b()});async function g(s,c=1){const i={product_id:s,qty:c};o.value=!0,await _.post("api/karabo-api-cake/cart",{data:i}),o.value=!1,h.push("/user/cart")}return(s,c)=>{const i=v("Load-ing"),f=v("router-link");return n(),r(x,null,[p(i,{active:o.value},null,8,["active"]),e("div",V,[e("nav",B,[e("ol",L,[e("li",q,[p(f,{to:"/user/cart"},{default:w(()=>[N("購物車")]),_:1})]),e("li",F,a(t.value.title),1)])]),e("div",P,[e("article",R,[e("h2",null,a(t.value.title),1),e("div",null,a(t.value.content),1),e("div",null,a(t.value.description),1),e("img",{src:t.value.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,T)]),e("div",U,[t.value.price?u("",!0):(n(),r("div",$,a(t.value.origin_price)+" 元",1)),t.value.price?(n(),r("del",j,"原價 "+a(t.value.origin_price)+" 元",1)):u("",!0),t.value.price?(n(),r("div",D,"現在只要 "+a(t.value.price)+" 元",1)):u("",!0),E,e("button",{type:"button",class:"btn btn-outline-danger",onClick:c[0]||(c[0]=M=>g(t.value.id))}," 加到購物車 ")])])])],64)}}};export{A as default};

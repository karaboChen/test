import{i as _}from"./backend-556194ba.js";import{k,u as y,r as l,l as C,d as v,o as n,c as r,e as p,a as e,f as w,t as a,i as u,F as x,b as N}from"./index-150f1a48.js";const V={class:"container"},B={"aria-label":"breadcrumb"},L={class:"breadcrumb"},F={class:"breadcrumb-item"},P={class:"breadcrumb-item active","aria-current":"page"},R={class:"row justify-content-center"},T={class:"col-8"},U=["src"],$={class:"col-4"},j={key:0,class:"h5"},q={key:1,class:"h6"},D={key:2,class:"h5"},E=e("hr",null,null,-1),A={__name:"UserProduct",setup(I){const m=k(),h=y(),t=l({}),d=l(""),o=l(!1);async function b(){o.value=!0;const s=await _.get(`api/karabo-api-cake/product/${d.value}`);console.log(s.data),o.value=!1,s.data.success&&(t.value=s.data.product)}C(()=>{d.value=m.params.productId,b()});async function f(s,c=1){const i={product_id:s,qty:c};o.value=!0,await _.post("api/karabo-api-cake/cart",{data:i}),o.value=!1,h.push("/user/cart")}return(s,c)=>{const i=v("Load-ing"),g=v("router-link");return n(),r(x,null,[p(i,{active:o.value},null,8,["active"]),e("div",V,[e("nav",B,[e("ol",L,[e("li",F,[p(g,{to:"/user/cart"},{default:w(()=>[N("購物車")]),_:1})]),e("li",P,a(t.value.title),1)])]),e("div",R,[e("article",T,[e("h2",null,a(t.value.title),1),e("div",null,a(t.value.content),1),e("div",null,a(t.value.description),1),e("img",{src:t.value.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,U)]),e("div",$,[t.value.price?u("",!0):(n(),r("div",j,a(t.value.origin_price)+" 元",1)),t.value.price?(n(),r("del",q,"原價 "+a(t.value.origin_price)+" 元",1)):u("",!0),t.value.price?(n(),r("div",D,"現在只要 "+a(t.value.price)+" 元",1)):u("",!0),E,e("button",{type:"button",class:"btn btn-outline-danger",onClick:c[0]||(c[0]=M=>f(t.value.id))}," 加到購物車 ")])])])],64)}}};export{A as default};
